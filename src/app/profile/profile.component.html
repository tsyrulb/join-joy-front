<div class="profile-container">
  <h2>User Profile</h2>

  <!-- Display an error message if there is one -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Loading indicator if the user data is still being fetched -->
  <div *ngIf="!user && !errorMessage">
    <p>Loading...</p>
  </div>

  <!-- Profile form -->
  <form *ngIf="user" (ngSubmit)="updateProfile()" #profileForm="ngForm">
    <div class="form-group">
      <label for="name">Name:</label>
      <input
        type="text"
        id="name"
        class="form-control"
        [(ngModel)]="user.name"
        name="name"
        required
      />
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        class="form-control"
        [(ngModel)]="user.email"
        name="email"
        required
      />
    </div>

    <div class="form-group">
      <label for="password">Password:</label>
      <input
        type="password"
        id="password"
        class="form-control"
        [(ngModel)]="user.password"
        name="password"
        required
      />
    </div>

    <div class="form-group">
      <label for="profilePhoto">Profile Photo URL:</label>
      <input
        type="text"
        id="profilePhoto"
        class="form-control"
        [(ngModel)]="user.profilePhoto"
        name="profilePhoto"
      />
    </div>

    <div class="form-group">
      <label for="dateOfBirth">Date of Birth:</label>
      <input
        type="date"
        id="dateOfBirth"
        class="form-control"
        [(ngModel)]="user.dateOfBirth"
        name="dateOfBirth"
      />
    </div>

    <div class="form-group">
      <label for="address">Address:</label>
      <input
        type="text"
        id="address"
        class="form-control"
        [(ngModel)]="user.location.address"
        name="address"
      />
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!profileForm.form.valid">
      Update Profile
    </button>
  </form>

  <!-- Display profile photo if available -->
  <div *ngIf="user?.profilePhoto" class="profile-photo">
    <img [src]="user.profilePhoto" alt="Profile Photo" class="img-thumbnail" />
  </div>
</div>
