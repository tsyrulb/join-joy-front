.map-page {
  position: relative;
  height: 100%;
  background-color: var(--background-color);
  color: var(--text-color);
  border-radius: var(--border-radius);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.search-container {
  position: absolute;
  top: 3%;
  left: 15%;
  z-index: 1000;
  display: flex;
  gap: 8px;
  transform: translate(-50%, -50%);
}

.search-bar .form-control {
  background: #101114;
  border: 1px solid #2F3336;
  border-radius: var(--border-radius);
  color: var(--text-color);
  font-size: 16px; /* bigger font */
  padding: 12px; /* more padding */
  width: 300px;  /* wider input */
}
.search-bar .form-control::placeholder {
  color: var(--muted-text);
}

.search-bar .btn.btn-primary.rounded-btn {
  background: var(--accent-color);
  border: none;
  border-radius: var(--border-radius);
  color: #fff;
  padding: 12px;
  font-size: 16px;
  cursor: pointer;
  margin-left: 8px;
  transition: background var(--transition-speed) ease;
}
.search-bar .btn.btn-primary.rounded-btn:hover {
  background: #1583d7;
}

/* Filter Toggle and Recommend Buttons */
.filter-toggle-btn, .recommend-activities-btn {
  position: absolute;
  background: var(--card-color);
  color: var(--text-color);
  border: none;
  padding: 8px 12px;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: background var(--transition-speed) ease;
  z-index: 1000;
}
.filter-toggle-btn:hover, .recommend-activities-btn:hover {
  background: #2F3336;
}
.filter-toggle-btn {
  top: 1%;
  right: 5%;
}

.recommend-activities-btn {
  top: 1%;
  right: 12%;
}
/* Filter Menu */
.filter-menu {
  position: absolute;
  top: 56px;
  right: 16px;
  background: var(--card-color);
  color: var(--text-color);
  border: 1px solid #2F3336;
  border-radius: var(--border-radius);
  width: 200px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  overflow: hidden;
  display: none;
  flex-direction: column;
  max-height: 300px;
}
/* Common overlay styling: ensure they appear on top of map tiles */
.filter-menu, .recommended-activities, .recommended-users {
  position: absolute;
  z-index: 2000; /* Higher than map tiles and markers (usually under 1000) */
  background: var(--card-color);
  color: var(--text-color);
  border: 1px solid #2F3336;
  border-radius: var(--border-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.filter-menu.show {
  display: flex;
}

.filter-menu-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px;
  border-bottom: 1px solid #2F3336;
}
.filter-menu-header h5 {
  margin: 0;
  font-size: 14px;
  font-weight: 500;
}
.filter-menu-header .btn-close {
  background: none;
  border: none;
  color: var(--text-color);
  cursor: pointer;
}

.filter-menu-body {
  padding: 8px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #2F3336 #000;
}

.list-group-item {
  background: none;
  color: var(--text-color);
  border: none;
  padding: 8px 0;
  font-size: 14px;
  cursor: pointer;
  transition: color var(--transition-speed) ease;
}
.list-group-item:hover {
  color: var(--accent-color);
}
.list-group-item.active {
  color: var(--accent-color);
}

/* Recommended Activities Panel */
.recommended-activities {
  position: absolute;
  top: 56px;
  left: 16px;
  background: var(--card-color);
  color: var(--text-color);
  border: 1px solid #2F3336;
  border-radius: var(--border-radius);
  width: 300px;
  max-height: 400px;
  overflow-y: auto;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.recommended-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px;
  border-bottom: 1px solid #2F3336;
}
.recommended-header h5 {
  margin: 0;
  font-size: 14px;
  font-weight: 500;
}
.recommended-header .btn-close {
  background: none;
  border: none;
  color: var(--text-color);
  cursor: pointer;
}

.recommended-body {
  padding: 8px;
}
.recommended-body .list-group-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: none;
  color: var(--text-color);
  border: none;
  padding: 8px 0;
  cursor: pointer;
}
.recommended-body .list-group-item:hover .activity-name {
  color: var(--accent-color);
}

.activity-details {
  display: flex;
  flex-direction: column;
}
.activity-name {
  font-size: 14px;
  font-weight: 500;
}
.activity-date {
  font-size: 12px;
  color: var(--muted-text);
}

/* Buttons inside recommended-activities */
.recommended-body .btn.btn-primary.rounded-btn {
  background: var(--accent-color);
  border: none;
  border-radius: var(--border-radius);
  color: #fff;
  padding: 4px 8px;
  cursor: pointer;
}
.recommended-body .btn.btn-primary.rounded-btn:hover {
  background: #1583d7;
}

/* Map itself */
.full-page-map {
  flex: 1;
  margin-top: 56px; /* Space for top bars */
  width: 100%;
  height: 100%;
  position: relative; 
  z-index: 1;
}
/* Modal styling for create activity (if still used) */
.modal.fade.show {
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.modal-dialog {
  background: var(--card-color);
  border-radius: var(--border-radius);
  width: 400px;
  max-width: 90%;
  border: 1px solid #2F3336;
}

.modal-header.bg-primary.text-white {
  background: var(--accent-color);
  border-top-left-radius: var(--border-radius);
  border-top-right-radius: var(--border-radius);
}
.modal-header h5 {
  margin: 0;
  font-size: 16px;
  font-weight: 500;
}
.modal-header .btn-close {
  background: none;
  border: none;
  color: #fff;
  cursor: pointer;
}

.modal-body {
  padding: 16px;
}
.modal-body .form-label {
  color: var(--text-color);
  font-size: 14px;
  margin-bottom: 4px;
}
.modal-body .form-control {
  background: #101114;
  border: 1px solid #2F3336;
  border-radius: var(--border-radius);
  color: var(--text-color);
  padding: 8px;
  font-size: 14px;
  width: 100%;
  margin-bottom: 12px;
}
.modal-body .form-control::placeholder {
  color: var(--muted-text);
}

.modal-footer {
  padding: 8px 16px;
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  border-top: 1px solid #2F3336;
}
.modal-footer .btn-success {
  background: var(--accent-color);
  color: #fff;
  border: none;
  border-radius: var(--border-radius);
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
}
.modal-footer .btn-success:hover {
  background: #1583d7;
}
.modal-footer .btn-secondary {
  background: #2F3336;
  color: var(--text-color);
  border: none;
  border-radius: var(--border-radius);
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
}
.modal-footer .btn-secondary:hover {
  background: #3C4043;
}

/* Recommended Users Section */
.recommended-users {
  position: absolute;
  top: 56px;
  right: 16px;
  background: var(--card-color);
  color: var(--text-color);
  border: 1px solid #2F3336;
  border-radius: var(--border-radius);
  width: 300px;
  max-height: 400px;
  overflow-y: auto;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
}
.recommended-users .list-group-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  cursor: pointer;
  transition: background var(--transition-speed) ease, color var(--transition-speed) ease;
  border-bottom: 1px solid #2F3336;
  background: none;
  color: var(--text-color);
}

/* When a user is selected, change background and text color for clear feedback */
.recommended-users .list-group-item.selected {
  background: linear-gradient(135deg, #a2d2ff, #bde0fe, #caffbf); 
  color: #000; /* Dark text for contrast against the pastel background */
}

/* Optional: Adjust the avatar and name appearance on hover or selected state */
.recommended-users .list-group-item:hover:not(.selected) {
  background: #2F3336;
}

.recommended-footer {
  padding: 8px;
  display: flex;
  justify-content: flex-end;
}
.recommended-footer .btn.btn-success {
  background: var(--accent-color);
  color: #fff;
  border: none;
  border-radius: var(--border-radius);
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
}
.recommended-footer .btn.btn-success:disabled {
  background: #555;
  cursor: not-allowed;
}

.user-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
}
.list-group-item.selected {
  background: #2F3336;
}

/* Minimal scrollbar for recommended users and activities */
.recommended-body, .filter-menu-body {
  scrollbar-width: thin;
  scrollbar-color: #2F3336 #000;
}
.recommended-body::-webkit-scrollbar, .filter-menu-body::-webkit-scrollbar {
  width: 6px;
}
.recommended-body::-webkit-scrollbar-track, .filter-menu-body::-webkit-scrollbar-track {
  background: #000;
}
.recommended-body::-webkit-scrollbar-thumb, .filter-menu-body::-webkit-scrollbar-thumb {
  background: #2F3336;
  border-radius: 3px;
}
.recommended-body::-webkit-scrollbar-thumb:hover, .filter-menu-body::-webkit-scrollbar-thumb:hover {
  background: #4f5559;
}
.custom-marker-icon {
  border-radius: 50%;
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #a2d2ff, #bde0fe, #caffbf);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  box-shadow: 0px 4px 6px rgba(0,0,0,0.2);
  border: 2px solid #fff;
}

/* If you want to display a custom icon inside, you could do something like: */
.custom-marker-icon::after {
  content: 'üìç'; /* or another icon, or an <svg> (via HTML) */
  font-size: 20px;
}

/* Popup styling (if needed) */
.custom-popup-outer .custom-popup {
  background: linear-gradient(135deg, #d8eafd, #f8d9e3, #ffe5cc);
  color: #000;
  border-radius: 8px;
  padding: 10px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  max-width: 250px;
}
